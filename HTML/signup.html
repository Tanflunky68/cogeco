<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    <style>
        body {
            background: #0C6E8E;
        }
        
        form {
            width: 60%;
            margin: 70px auto;
            background: #efefef;
            padding: 60px 120px 80px 120px;
            text-align: center;
            -webkit-box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.1);
            box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.1);
        }
        
        label {
            display: block;
            position: relative;
            margin: 40px 0px;
        }
        
        .label-txt {
            position: absolute;
            top: -1.6em;
            padding: 10px;
            font-family: sans-serif;
            font-size: .8em;
            letter-spacing: 1px;
            color: rgb(120, 120, 120);
            transition: ease .3s;
        }
        
        .input {
            width: 100%;
            padding: 10px;
            background: transparent;
            border: none;
            outline: none;
        }
        
        .line-box {
            position: relative;
            width: 100%;
            height: 2px;
            background: #BCBCBC;
        }
        
        .line {
            position: absolute;
            width: 0%;
            height: 2px;
            top: 0px;
            left: 50%;
            transform: translateX(-50%);
            background: #0C6E8E;
            transition: ease .6s;
        }
        
        .input:focus+.line-box .line {
            width: 100%;
        }
        
        .label-active {
            top: -3em;
        }
        
        button {
            display: inline-block;
            padding: 12px 24px;
            background: rgb(220, 220, 220);
            font-weight: bold;
            color: rgb(120, 120, 120);
            border: none;
            outline: none;
            border-radius: 3px;
            cursor: pointer;
            transition: ease .3s;
        }
        
        button:hover {
            background: #0C6E8E;
            color: #ffffff;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-light bg-light justify-content-between" style="height: 50%;">
        <img class="navbar-brand" src="https://i1.wp.com/www.ywcahamilton.org/wp-content/uploads/2019/11/COGECO-Logo.png?ssl=1" style="max-width: 150px; max-height: 150px;">COGECO SANTE</img>
    </nav>
    <div id="inscription">
        <form>
            <h2>
                Inscription
            </h2>
            <label>
              <input id='inputEmail' type="email" class="input" placeholder="SAISSISER VOTRE ADRESSE COURRIEL">
              <div class="line-box">
                <div class="line">
                </div>
              </div>
            </label>
            <label>
              <input id='inputPrenom' type="text" class="input" placeholder="SAISSISER VOTRE PRENOM">
              <div class="line-box">
                <div class="line">
                </div>
              </div>
            </label>
            <label>
                <input id='inputNom' type="text" class="input" placeholder="SAISSISER VOTRE NOM">
                <div class="line-box">
                  <div class="line">
                  </div>
                </div>
              </label>
            <label>
              <input id='inputPassword' type="password" class="input" placeholder="CREATION D'UN MOT DE PASSE">
              <div class="line-box">
                <div class="line"></div>
              </div>
            </label>
            <label>
                <input id='inputConfirmPassword' type="password" class="input" placeholder="VERIFICATION DU MOT DE PASSE">
                <div class="line-box">
                  <div class="line"></div>
                </div>
              </label>
            <button id='btnSubmit' type="submit">Confirmer mon inscription</button>
        </form>
    </div>
</body>



<script>
    $("#btnSubmit").click(function() {
      var email = $("#inputEmail").val();
	    var mdp = $("#inputPassword").val();
      var mdpconfirmer = $("#inputConfirmPassword").val();
	    var lastName=$("#inputNom").val();
	    var name=$("#inputPrenom").val();


      if(name=="" || name==null || !(/^[A-Za-z\s]+$/.test(name)) || name.length>50 ){
        alert("Le prénom entré est invalide");
      }
      else{
          if(lastName=="" || lastName==null || !(/^[A-Za-z\s]+$/.test(lastName)) || lastName.length>50 ){
            alert("Le nom entré est invalide");
          }
          else{
              if(email=="" || email==null || !(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email)) || email.length>250 ){
                  alert("Le courriel entré est invalide");
              }
              else{
                if(mdp=="" || mdp==null || mdp.length>25 ){
                  alert("Le mot de passe entré est invalide");
                }
                else{
                  if(mdp==mdpconfirmer){
                    $.ajax({
                            url: "../PHP/addUserAccount.php",
                            type: "POST",
                            dataType: "json",
                            data: {
                            "email":email,
                            "mdp":mdp,
                            "name":name,
                            "lastName":lastName},
                            success: function(result){
                               alert(result);
                            },
                            error: function (message, er) {
                                console.log("erreur lors de la connexion création du compte:" + er);
                            }
                    });
                  }
                  else{
                    alert("Les mots de passe entrer ne correspondent pas");
                  }
                }
             }
          }
      }
                   


    });


                
        
</script>

</html>